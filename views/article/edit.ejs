<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
        <link rel="stylesheet" href="/public/main.css">

        <title>Todo - Edit</title>
    </head>
    <body>

        <%- include('../nav.html') %>

        <div class="container mt-5">
            <!-- <h4 class="text-center">수정</h4> -->
            <span id="open" style="display: none;"><%= post.open %></span>
            <form action="/article/edit?_method=PUT" method="POST">

                <input type="hidden" class="form-control" name="id" value="<%= post._id %>">
                <input type="hidden" class="form-control" name="board" value="<%= post.board %>">

                <div class="form-group">
                    <label>할 일</label>
                    <input type="text" class="form-control" name="title" value="<%= post.title %>">
                </div>

                <div class="form-group">
                    <label>내용</label>
                    <small class="text-secondary">최대 30줄까지 입력 가능합니다.</small>
                    <textarea type="text" class="form-control" name="content"><%= post.content %></textarea>
                    <!-- <input type="text" class="form-control" name="content" value="<%= post.content %>"> -->
                </div>

                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" id="openAll" name="open" value="all" class="custom-control-input" checked>
                    <label class="custom-control-label" for="openAll">전체 공개</label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input type="radio" id="openMember" name="open" value="member" class="custom-control-input">
                    <label class="custom-control-label" for="openMember">회원 공개</label>
                </div>

                <button type="submit" class="btn btn-success">수정</button>

            </form>    
        </div>

        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
        <script>
            var open = $("#open").text();
            if (open == 'member') {
                $('#openAll').prop("checked", false);
                $('#openMember').prop("checked", true);
            }

            $('input[type="text"]').keydown(function() {
                if (event.keyCode === 13) {
                    event.preventDefault();
                };
            });

            $("textarea.form-control").css('height', $(window).height() * 0.55);
        </script>

        <!-- Optional JavaScript; choose one of the two! -->

        <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>

        <!-- Option 2: Separate Popper and Bootstrap JS -->
        <!--
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
        -->
    </body>
</html>